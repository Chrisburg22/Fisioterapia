---
async function post(request: Request) {
  try {
    const data = await request.formData();
    const email = data.get("email");
    const message = data.get("message");
    // Do something with the data
    console.log(`Received email: ${email} and message: ${message}`);
    // return {
    //   status: 200,
    //   body: "Form submitted successfully!",
    // };
  } catch (error) {
    console.error(error);
    // return {
    //   status: 500,
    //   body: "Error submitting form",
    // };
  }
}
if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const email = data.get("email");
    const message = data.get("message");
    // Do something with the data
    console.log(`Submit ${email} ${message}`);
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<section id="call-to-action" class="text-gray-600 body-font relative">
  <div class="absolute inset-0 bg-gray-300">
    <!-- <iframe
     
      title="map"
      src="https://maps.google.com/maps?width=100%&height=600&hl=en&q=%C4%B0zmir+(My%20Business%20Name)&ie=UTF8&t=&z=14&iwloc=B&output=embed"
      style="filter: grayscale(1) contrast(1.2) opacity(0.4);"></iframe> -->
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d632.4508012088136!2d-103.29860967820066!3d20.654676912213812!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8428b3c453ca6f09%3A0x6e7aa68edff42ea8!2sC.%203%20de%20Junio%20421%2C%20San%20Rafael%2C%2044810%20Guadalajara%2C%20Jal.!5e0!3m2!1ses-419!2smx!4v1716350997843!5m2!1ses-419!2smx"
      width="100%"
      height="100%"
      style="border:0;"
      allowfullscreen=""
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
  <div class="container px-5 py-24 mx-auto flex">
    <form
      id="contact"
      method="POST"
      class="lg:w-1/3 md:w-1/2 bg-teal-500 rounded-lg p-8 flex flex-col md:ml-auto w-full mt-10 md:mt-0 relative z-10 shadow-md text-teal-100"
    >
      <h2 class="text-xl mb-1 font-medium title-font">Comentarios</h2>
      <p class="leading-relaxed mb-5">
        Nos interesa saber que opinas, dejanos tu comentario
      </p>
      <div class="relative mb-4">
        <label for="email" class="leading-7 text-sm"
          >Correo
          <input
            required
            type="email"
            id="email"
            name="email"
            class="w-full text-black bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-nonepy-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
          />
        </label>
        <!-- {errors.email && <p>{errors.email}</p>} -->
      </div>
      <div class="relative mb-4">
        <label for="message" class="leading-7 text-sm"
          >Mensaje

          <textarea
            required
            id="message"
            name="message"
            class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 h-32 text-base outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"
          ></textarea>
        </label>
        <!-- {errors.message && <p>{errors.message}</p>} -->
      </div>
      <button
        type="submit"
        form="contact"
        class="text-black bg-teal-200 border-0 py-2 px-6 focus:outline-none hover:bg-black hover:text-white active:bg-black active:text-white rounded text-lg"
        >Enviar</button
      >
    </form>
  </div>
</section>
